var splits,bExcel,file,rt,companies,errors;constructor(props);n:hasError;return this.eventList={closed:"closed"},this._bindFuns(["beforeUpload","onChange","closed","downLoadTemplate","cognizance"]),this.paginationOpts={layout:["sep","first","prev","sep","manual","sep","next","last","info"],onSelectPage:function(n,t){this.$ExcelImportResult.datagrid("loading"),$.post(_bl_+"/Home/GetPageCompanies",{pageNumber:n,pageSize:t},function(n){n.ErrorMessage?antd.message.error(n.ErrorMessage):this.$ExcelImportResult.datagrid("loadData",{rows:n.Data.companies,total:n.Data.count}),this.$ExcelImportResult.datagrid("loaded")}.bind(this),"json")}.bind(this)},cognizance(),antd.message.info("正在认定中..."),this.setState({cognizancing:!0}),$.post(_bl_+"/Home/ImportQYGM",function(n){n.ErrorMessage?antd.message.error(n.ErrorMessage):(antd.message.success("导入成功！"),this.setState({cognizancing:!1,dataState:!1,hasError:!1,activeResult:"review",uploading:!1,errors:[]}),this.$ExcelImportResult.datagrid({pageNumber:1}).datagrid("getPager").pagination(this.paginationOpts),this.$ExcelImportResult.datagrid("loadData",{total:0,rows:[]}))}.bind(this),"json"),beforeUpload(file),splits=file.name.split("."),bExcel=splits[1]==="xls"||splits[1]==="xlsx",bExcel?this.setState({fileName:file.name,uploading:!0}):(antd.message.error("只能上传Excel格式的数据！"),this.setState({fileName:""})),bExcel